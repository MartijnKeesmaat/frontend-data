parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"lTk1":[function(require,module,exports) {
"use strict";function t(t,r){return t.split(/[, ]/).splice(0,r).join(" ")}function r(t,r){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),o=[],s=0,a=e.attr("y"),p=parseFloat(e.attr("dy")),i=e.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",p+"em");t=n.pop();)o.push(t),i.text(o.join(" ")),i.node().getComputedTextLength()>r&&(o.pop(),i.text(o.join(" ")),o=[t],i=e.append("tspan").attr("x",0).attr("y",a).attr("dy","".concat(1.1*++s+p,"em")).text(t))})}function e(t,r){var e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),o=parseInt(t.substring(5,7),16);return e=parseInt(e*(100+r)/100),n=(n=parseInt(n*(100+r)/100))<255?n:255,o=(o=parseInt(o*(100+r)/100))<255?o:255,"#"+(1==(e=e<255?e:255).toString(16).length?"0"+e.toString(16):e.toString(16))+(1==n.toString(16).length?"0"+n.toString(16):n.toString(16))+(1==o.toString(16).length?"0"+o.toString(16):o.toString(16))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncator=t,exports.wrap=r,exports.shadeColor=e;
},{}],"SJ9a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var t=require("./helpers");function r(t,r,u){var l=a(r,u),s=e(r,50,t);n(s,l,t),c(l,t),i(l,u,50,s),o(l,r,u)}var a=function(t,r){return d3.select(".bar-chart").append("svg").attr("width",t).attr("height",r)},e=function(t,r,a){return d3.scaleLinear().domain([0,d3.max(a,function(t){return t.value})]).range([r,t-r])},n=function(t,r,a){r.selectAll("rect").data(a).enter().append("rect").attr("x",function(t,r){return 100}).attr("y",function(t,r){return 50*r}).attr("width",function(r){return t(r.value)-50}).attr("height",15).attr("class","bar").attr("rx",7.5)},c=function(r,a){r.selectAll("text").data(a).enter().append("text").text(function(t){return t.name}).attr("x",function(t,r){return 0}).attr("y",function(t,r){return 50*r+10}).attr("class","label").attr("dy",0).attr("text-anchor","end").attr("transform","translate(90,0)").call(t.wrap,100)},i=function(t,r,a,e,n){var c=d3.axisBottom(e).ticks(3);t.append("g").attr("transform","translate(55,"+(r-a)+")").attr("color","#9AA1A9").call(c).call(function(t){return t.select(".domain").remove()})},o=function(t,r,a){var e=d3.scaleTime().range([0,r]);t.append("g").attr("class","grid").attr("transform","translate(100,"+a+")").call(u(e).tickSize(-a).tickFormat(""))},u=function(t){return d3.axisBottom(t).ticks(5)};
},{"./helpers":"lTk1"}],"pEQH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t=require("./helpers");function e(t,e,p){var x=e,h=e,m=Math.min(x,h)/2,v=n(),g=r(x,h),y=a(p,m),A=u(g,x,h),b=o(),_=l(A,b,t);s(_),c(_,t),_=d(_,y,v),f(_,v),i(t),d3.select(".pie").append("g").attr("class","legend").selectAll("text").data(t[1].materials).enter().append("text").text(function(t){return t.name}).attr("x",function(t,e){return 50}).attr("y",function(t,e){return 50*e}).attr("class","legend-label")}var n=function(){return d3.scaleOrdinal(["#B83B5E","#995A3A","#F08A5D","#F9D769","#6A2C70"])},r=function(t,e){return d3.select(".donut-chart").append("svg").attr("class","pie").attr("width",t).attr("height",e)},a=function(t,e){return d3.arc().innerRadius(e-t).outerRadius(e)},u=function(t,e,n){return t.append("g").attr("transform","translate("+e/2+","+n/2+")")},o=function(){return d3.pie().value(function(t){return t.value}).sort(null)},l=function(t,e,n){return t.selectAll("path").data(e(n[1].materials)).enter().append("g")};function i(e){var n=d3.select(".pie").append("g").attr("class","default-text");n.append("text").attr("class","donut-title").text((0,t.truncator)(e[1].name,1)).attr("text-anchor","middle").attr("dy","50%").attr("dx","50%"),n.append("text").attr("class","donut-sub-title").text("Categorie").attr("text-anchor","middle").attr("dy","60%").attr("dx","50%")}var s=function(e){e.on("mouseover",function(e){d3.select(".donut-title").text((0,t.truncator)(e.data.name,1)),d3.select(".donut-sub-title").text(e.data.value)})},c=function(e,n){e.on("mouseout",function(){d3.select(".donut-title").text((0,t.truncator)(n[1].name,1)),d3.select(".donut-sub-title").text("Categorie")})},d=function(t,e,n){return t.append("path").attr("d",e).attr("fill",function(t,e){return n(e)})},f=function(e,n){e.on("mouseover",function(e){d3.select(this).style("cursor","pointer").style("fill",(0,t.shadeColor)(n(this._current),-20))}),e.on("mouseout",function(t){d3.select(this).style("cursor","none").style("fill",n(this._current))}).each(function(t,e){this._current=e})};
},{"./helpers":"lTk1"}],"Focm":[function(require,module,exports) {
"use strict";var e=t(require("./renderBarChart.js")),a=t(require("./renderDonutChart.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=0,r=19,o=[],s="\n  #+ summary: Get titles meestvoorkomende catogrieen\n  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n  PREFIX dc: <http://purl.org/dc/elements/1.1/>\n  PREFIX dct: <http://purl.org/dc/terms/>\n  PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n  PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n  PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n  # tel aantallen per materiaal\n  SELECT ?categoryLabel ?category (COUNT(?allChos) AS ?objCount) WHERE {\n    ?cho edm:isRelatedTo <https://hdl.handle.net/20.500.11840/termmaster2802> .\n    <https://hdl.handle.net/20.500.11840/termmaster2802> skos:narrower ?category .\n    ?category skos:prefLabel ?categoryLabel .\n    ?category skos:narrower* ?allChos .\n  }\n    \n  GROUP BY ?categoryLabel ?category\n  ORDER BY DESC(?objCount)\n",l=function(e,a,t,n){fetch("".concat(e,"?query=").concat(encodeURIComponent(a),"&format=json")).then(function(e){return e.json()}).then(function(e){return n(e,t)})},c=function(e){var a=u(e);i(a)};l("https://api.data.netwerkdigitaalerfgoed.nl/datasets/ivo/NMVW/services/NMVW-20/sparql",s,"",c);var u=function(e){return e.results.bindings.map(function(e){return{termmaster:"<".concat(e.category.value,">"),name:e.categoryLabel.value,value:e.objCount.value}})},i=function(e){e.forEach(function(e){var a="\n        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n        PREFIX dc: <http://purl.org/dc/elements/1.1/>\n        PREFIX dct: <http://purl.org/dc/terms/>\n        PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n        PREFIX edm: <http://www.europeana.eu/schemas/edm/>\n        PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n        # tel aantallen per materiaal\n        SELECT ?subcategorie ?materiaalLabel (COUNT(?cho) AS ?choCount) WHERE {\n        # haal van een term in de thesaurus de subcategorieen op\n        ".concat(e.termmaster," skos:narrower* ?subcategorie .\n        # haal de objecten van deze subcategorieen en het materiaal\n        ?cho edm:isRelatedTo ?subcategorie .\n        ?cho dct:medium ?materiaal .\n        # haal het Label op van materiaal\n        ?materiaal skos:prefLabel ?materiaalLabel .\n        }\n        GROUP BY ?subcategorie ?materiaalLabel\n        ORDER BY DESC(?choCount)\n        LIMIT 5\n      ");l("https://api.data.netwerkdigitaalerfgoed.nl/datasets/ivo/NMVW/services/NMVW-20/sparql",a,e,m)})},m=function(e,a){n++,o.push(d(e,a)),n>=r&&h(o)},d=function(e,a){return{name:a.name,value:Number(a.value),materials:e.results.bindings.map(function(e){return{name:e.materiaalLabel.value,value:Number(e.choCount.value)}})}};function h(t){var n=t.slice(0,5);(0,e.default)(n,600,300),(0,a.default)(t,260,35)}
},{"./renderBarChart.js":"SJ9a","./renderDonutChart.js":"pEQH"}]},{},["Focm"], null)
//# sourceMappingURL=/src.2921e5e6.js.map